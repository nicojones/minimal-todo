(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{124:function(e,t,n){},154:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(37),s=n.n(r),o=(n(124),n(3)),i=n(14),l=n(10),u=n(8),d=n(15),j=n.n(d),b={apiKey:"AIzaSyDxmJzv3ccl0_ouKB9oVSzWIsn6uysYMLQ",databaseURL:"https://todo-list-react-33431.firebaseio.com",projectId:"todo-list-react-33431",authDomain:"todo-list-react-33431.firebaseapp.com",storageBucket:"todo-list-react-33431.appspot.com",messagingSenderId:"153291173882",appId:"1:153291173882:web:4eb5673b9a70ce5828fe43",measurementId:"G-BCMCPMQHDB"},p="https://us-central1-todo-list-react-33431.cloudfunctions.net/api";var m=n(48);n(141),n(143);m.a.initializeApp(b);var h=m.a.auth,f=m.a.firestore;function O(e){return e[Math.floor(Math.random()*e.length)]}var x,g,v,k={appName:"Minimal Todo",appDesc:"A simple, clean and minimalist Todo App",gotoApp:"Open app",task:{name:"Name of the task",delete:{_:"Delete Task",all:"Delete task and its subtasks? Can't be undone"},addTaskPh:function(){return O(["e.g. Buy carrots","e.g. Clean apartment in the morning","e.g. Do some exercise","Add a new task ...","Create a task ...","e.g. Call family","e.g. Schedule interview"])},subtasks:"Subtasks",save:"Save Task",edit:"Edit Task",discard:"Cancel changes",notes:"Notes",prio:{_:"Priority",low:"Low priority",high:"High priority",urgent:"Urgent"},search:"Search...",noResults:"No results found"},drawer:{inbox:{_:"Inbox",tooltip:"Your open tasks"},priority:{_:"Priority",tooltip:"High priority stuff"},invalidDrawer:"Invalid URL (not an actual project)"},sharedProject:"This project is shared",subtaskStatus:"( Pending / Completed )",allTasksCompleted:function(){return O(["All tasks completed!","Now that's what I call a clean list","Wow, such empty","Finitto? Go for a cappuccino","All tasks done, time for a break","So productive. I'm impressed","Make a Todolist: Done","I am Finnish with all tasks."])},completed:"Completed",completedNo:"No completed tasks",showCompleted:"Show completed tasks",hideCompleted:"Hide completed tasks",project:{s:"Projects",noSelected:"Select a project or create a new one.",inspire:"What will you accomplish?",share:"Share Project",noName:"My List",delete:{_:"Delete Project",tasks:"Delete all tasks",long:"Delete this project and all the tasks? (cannot be undone)"},add:{ph:"Create new project"},title:{_:"Click to edit title"},more:"More options"},genericError:"An error occurred. Please see console for details",loggedInAs:function(e){return"Logged in as ".concat(e)},login:{login:"Log in",signup:"Sign up",logout:"Log out",noAccount:"Don't have an account?",yesAccount:"Already a user?",error:"Invalid credentials",success:"Welcome Back!",signupSuccess:"Account created! Logging you in...",invalidPass:"Invalid Login credentials",invalidUser:"No user exists for this email",f:{email:{_:"Email",ph:"Enter your email"},password:{_:"Password",new:"Choose a password",ph:"Enter your password"},name:{_:"Name",ph:"What's your name?"},username:{_:"Username",ph:"Choose a username"}}},sort:{_:"Sort tasks",az:"A - Z",za:"Z - A",nf:"Newest first",of:"Oldest First",pr:"Priority"},menu:{menu:"Enter <i>Focus Mode</i>",settings:{_:"Settings"}},landing:{title:"minimal todo",sub:"Your new productivity tool",feature:{_:"What and why?",todo:"Packed with all you need, with only what you need",write:"Don't get distracted and focus on what matters",calendar:"Increase your productivity and reduce stress",read:"Manage your time smarter, enjoy your free time calmer",create:"Free your mind of tasks and make space for creativity",explore:"Reduce procrastination, work better and get more of life"}}},N=n(116),w=n(25),y={home:"/",app:"/app",project:function(e){return"".concat(y.app,"/").concat(e)},login:"/secure/login",signup:"/secure/signup",inboxUrl:"inbox",priorityUrl:"priority"},C={defaultProjectColor:"#aaa",toast:{position:"bottom-center",renderIcon:function(){return""},onClick:function(){return window.hideCogoToast()}},maxDepth:3,defaultSort:"timestamp,desc",sort:[{icon:"sort_by_alpha",name:k.sort.az,sort:"_name_lower,asc"},{icon:"sort_by_alpha",name:k.sort.za,sort:"_name_lower,desc"},{icon:"arrow_downward",name:k.sort.of,sort:"timestamp,asc"},{icon:"arrow_upward",name:k.sort.nf,sort:"timestamp,desc"},{icon:"flag",name:k.sort.pr,sort:"priority,desc"}],drawerSort:(x={},Object(w.a)(x,y.inboxUrl,"timestamp,desc"),Object(w.a)(x,y.priorityUrl,"priority,desc"),x)},S=function(e,t){var n=N.a[e](t,C.toast);window.hideCogoToast=n.hide},_=n(147),T={setToken:function(e){localStorage.setItem("AuthToken",e)},authState:function(e){h().onIdTokenChanged((function(t){clearTimeout(g),g=setTimeout((function(){t&&t.getIdToken(!0).then((function(e){T.setToken(e)})),e(t)}),300)}))},signup:function(e){return j()({url:"".concat(p,"/signup"),method:"POST",data:Object(u.a)(Object(u.a)({},e),{},{password:_(e.password)})}).then((function(t){return T.login({email:e.email,password:e.password})}))},login:function(e){var t;return h().signInWithEmailAndPassword(e.email,_(e.password)).then((function(e){return localStorage.setItem("uid",JSON.stringify(e.user.uid)),t=e,h().currentUser.getIdToken()})).then((function(e){return T.setToken(e),t}))},loginCatch:function(e){console.error(e,e.code,"auth/user-not-found"===e.code),"auth/wrong-password"===e.code?S("error",k.login.invalidPass):"auth/user-not-found"===e.code?S("error",k.login.invalidUser):S("error",e.message)},logout:function(e){return e.preventDefault(),h().signOut().then((function(){S("success","You've been signed out of the app")}))},validateSignup:function(e){return!e.name||e.name.length<=2?{name:"Must enter a longer name"}:!e.email||e.email.length<=5?{email:"Invalid email"}:e.password?{}:{password:"Password can't be empty"}}},P=n(5),I=n.n(P),E=n(7),U=(n(154),v={},Object(w.a)(v,y.inboxUrl,{url:y.inboxUrl,text:k.drawer.inbox,icon:"inbox",sort:"timestamp,desc"}),Object(w.a)(v,y.priorityUrl,{url:y.priorityUrl,text:k.drawer.priority,icon:"flag",sort:"priority,desc"}),v),D=Object.values(U),L=n(117),F=n.n(L),A=n(0);function M(e){var t=e.onChangeComplete,n=e.color,c=e.icon,r=Object(a.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(A.jsxs)("span",{className:"relative",children:[Object(A.jsx)("button",{className:"ib h-100",onClick:function(){return l(!0)},children:Object(A.jsx)("i",{className:"material-icons tiny left m0",style:{color:n},children:c})}),i?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"color-picker",children:Object(A.jsx)(F.a,{color:n,onChangeComplete:function(e){l(!1),t(e.hex)}})}),Object(A.jsx)("div",{className:"backdrop",onClick:function(){return l(!1)}})]}):""]})}var z=function(e,t){window.lastError=t,S("error",e),console.error(e,t),["401","403"].indexOf(t.toString().split(" ").pop())>=0&&(localStorage.removeItem("user"),localStorage.removeItem("AuthToken"),window.location.hash=y.login)},B={db:f(),headers:function(){return{authorization:localStorage.getItem("AuthToken")}},getListOfProjects:function(e){try{return B.db.collection("/projects").where("_uids","array-contains",h().currentUser.uid).onSnapshot((function(t){var n=[];t.forEach((function(e){var t=e.data();n.push({id:e.id,name:t.name,shared:t.shared,sort:t.sort,showCompleted:t.showCompleted,color:t.color})})),e(n),console.info("".concat(n.length," projects loaded"))}))}catch(t){z(t.response.data.message,t)}},updateProject:function(){var e=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j()({url:p+"/project/".concat(t.id),method:"PUT",data:t,headers:B.headers()}).then((function(e){}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),z(e.t0.response.data.message,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),newProject:function(){var e=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j()({url:p+"/project",method:"POST",data:t,headers:B.headers()}).then((function(e){return console.log(e),S("success",e.data.message),e.data.project}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),z(e.t0.response.data.message,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),deleteProject:function(){var e=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j()({url:p+"/project/".concat(t.id),method:"DELETE",headers:B.headers()}).then((function(e){S("success",e.data.message),console.info("result from project DELETE",e)}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),z(e.t0.response.data.message,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),deleteProjectTasks:function(){var e=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j()({url:p+"/project/".concat(t.id,"/only-tasks"),method:"DELETE",headers:B.headers()}).then((function(e){S("success",e.data.message),console.info("result from project task DELETE",e)}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),z(e.t0.response.data.message,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getUserByEmail:function(){var e=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j()({url:p+"/user/search/",method:"POST",data:{email:t},headers:B.headers()}).then((function(e){return e.data.user}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),z(e.t0.response.data.message,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),addUserToProject:function(){var e=Object(E.a)(I.a.mark((function e(t,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j()({url:p+"/project/".concat(t.id,"/join"),method:"POST",headers:B.headers(),data:{username:n}}).then((function(e){S("success",e.data.message),console.info("result from joining Project",e)}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),z(e.t0.response.data.message,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()};function q(e){var t=e.project,n=e.onDelete;function c(e,t){return r.apply(this,arguments)}function r(){return(r=Object(E.a)(I.a.mark((function e(t,a){var c,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="delete"===e.t0?3:"share"===e.t0?6:16;break;case 3:return e.next=5,n(a);case 5:return e.abrupt("break",17);case 6:if(!(c=prompt("User Email to join?"))){e.next=15;break}return e.next=10,B.getUserByEmail(c);case 10:if(r=e.sent){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,B.addUserToProject(a,r.username);case 15:case 16:return e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s=Object(a.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("button",{className:"btn child-hover ml-auto",onClick:function(){return u(!0)},children:Object(A.jsx)("i",{className:"tiny material-icons subtle",children:"more_horiz"})}),l&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("ul",{className:"dropdown dd-left",onClick:function(){return u(!1)},children:[Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsxs)("button",{className:"ib left left-align w-100 p-10",onClick:function(){return c("delete",t)},children:[Object(A.jsx)("i",{className:"tiny material-icons subtle",children:"delete"})," ",k.project.delete._]})}),Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsxs)("button",{className:"ib left left-align w-100 p-10",onClick:function(){return c("share",t)},children:[Object(A.jsx)("i",{className:"tiny material-icons subtle",children:"person_add"})," ",k.project.share]})})]}),Object(A.jsx)("div",{className:"backdrop",onClick:function(){return u(!1)}})]})]})}var H=function(e){var t=e.projectId,n=e.changeToProject,c=Object(a.useContext)(ie),r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(a.useState)([]),j=Object(o.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),f=h[0],O=h[1],x=Object(a.useRef)(!0);function g(e){return v.apply(this,arguments)}function v(){return(v=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm(k.project.delete.long)){e.next=6;break}return l(t.id),e.next=4,B.deleteProject(t);case 4:n(null),l("");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){e.id===c.id&&n({unselected:!0}),console.info("Changing project from",c.id,"to",e.id),n(e)}function w(){return(w=Object(E.a)(I.a.mark((function e(t,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.updateProject(Object(u.a)(Object(u.a)({},t),{},{color:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=B.getListOfProjects((function(e){var a=function(e,t){return t.find((function(t){return t.id===e}))||null}(c.id||t,e);x.current&&(a&&n(a),x.current=!1),p(e)}));return function(){e&&e()}}),[]),Object(A.jsxs)("ul",{className:"projects-list flex-column",children:[D.map((function(e){return Object(A.jsx)("li",{"data-tip":e.text.tooltip,className:"proj-li mb-5 parent-hover flex-row"+(t===e.url?" selected":""),children:Object(A.jsxs)("button",{className:"ib left left-align w-100",onClick:function(){return N({id:e.url})},children:[Object(A.jsx)("i",{className:"material-icons tiny left btn-pr",children:e.icon}),Object(A.jsx)("span",{className:"btn-pl",children:e.text._})]})},e.url)})),b.length?Object(A.jsxs)("li",{className:"proj-li bt-subtle",children:[Object(A.jsx)("i",{className:"material-icons inv",children:"inbox"}),Object(A.jsx)("span",{className:"btn-pl subtle",children:k.project.s})]},"title"):"",b.map((function(e){return Object(A.jsxs)("li",{className:"proj-li mb-5 parent-hover flex-row"+(c.id===e.id?" selected":"")+(i===e.id?" loader-input":""),children:[Object(A.jsx)(M,{color:e.color,onChangeComplete:function(t){return function(e,t){return w.apply(this,arguments)}(e,t)},icon:e.shared?"person":"lens"}),Object(A.jsx)("button",{className:"ib left left-align btn-p w-100",onClick:function(){return N(e)},children:e.name}),Object(A.jsx)(q,{project:e,onDelete:g})]},e.id)})),Object(A.jsx)("li",{className:"proj-li mb-5 parent-hover flex-row",children:Object(A.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),l("new"),B.newProject((t=f,{name:t,color:C.defaultProjectColor,sort:C.defaultSort,showCompleted:!1})).then((function(e){O(""),l(""),n(e)}))},className:"add-project flex-row "+("new"===i?" loader-input":""),children:[Object(A.jsx)("button",{className:"ib child-hover left",children:Object(A.jsx)("label",{htmlFor:"new-project-input",className:"pointer",children:Object(A.jsx)("i",{className:"tiny material-icons subtle",children:f?"save":"add"})})}),Object(A.jsx)("input",{className:"invisible add-project__input btn-pl",onChange:function(e){return O(e.target.value)},required:!0,minLength:3,disabled:"new"===i,autoComplete:"off",value:f,id:"new-project-input",placeholder:k.project.add.ph})]})},"new-project")]})},W=(n(283),[n.p+"static/media/balloon.e798b449.svg",n.p+"static/media/board.52700170.svg",n.p+"static/media/book.9af88ef0.svg",n.p+"static/media/calendar.667dab87.svg",n.p+"static/media/music.154532f7.svg",n.p+"static/media/puzzle.c7f9f331.svg",n.p+"static/media/science.4185b725.svg"]),R=function(e){var t=e.className,n=e.setShowSidebar,c=e.inspireText,r=e.addText,s=Object(a.useMemo)((function(){return O(W)}),[]);return Object(A.jsxs)("div",{className:"no-project "+t,children:[Object(A.jsx)("h5",{className:"center-align",children:c}),Object(A.jsx)("img",{alt:"inspiration",src:s,className:"no-task-img"}),r&&Object(A.jsx)("button",{className:"btn btn-border left-align flex-center-self subtle",onClick:function(){return n&&n(!0)},children:r})]})};n(284);function Y(e){var t=new Date(e);return t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate()+" "+t.getUTCHours()+":"+t.getUTCMinutes()+":"+t.getUTCSeconds()}var G={db:f(),headers:function(){return{authorization:localStorage.getItem("AuthToken")}},updateTask:function(){var e=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("Updating task ",t.name),delete t.subtasks,e.prev=2,e.next=5,j()({url:p+"/project/".concat(t.projectId,"/task/").concat(t.id),method:"PUT",data:t,headers:G.headers()}).then((function(e){console.info("result from PUT",e),S("success",e.data.message)}));case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),z("Error on update task: "+e.t0.response.data.message,e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),addTask:function(){var e=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("Adding task ",t.name),e.prev=1,e.next=4,j()({url:p+"/project/".concat(t.projectId,"/task"),method:"POST",data:t,headers:G.headers()}).then((function(e){return console.info("result from POST",e),S("success",e.data.message),e.data.taskId}));case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),z("Error on save task: "+e.t0.response.data.message,e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),deleteTask:function(){var e=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j()({url:p+"/project/".concat(t.projectId,"/task/").concat(t.id),method:"DELETE",headers:G.headers()}).then((function(e){console.info("result from DELETE",e),S("success",e.data.message)}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),z("Error on delete task: "+e.t0.response.data.message,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getTasksForProject:function(e,t,n){var a=t.split(","),c=Object(o.a)(a,2),r=c[0],s=c[1];try{return G.db.collection("/projects/".concat(e,"/tasks")).orderBy("level","desc").orderBy(r,s).onSnapshot((function(t){var a={};t.forEach((function(t){var n=t.id,c=t.data(),r=c.parentId||"root_task";a[r]=a[r]||[],a[r].push(Object(u.a)(Object(u.a)({id:n},c),{},{projectId:e,timestamp:Y(1e3*c.timestamp.seconds),subtasks:a[n]||[]})),delete a[n]})),n(a.root_task||[])}))}catch(i){z("Error on fetching tasks: ",i)}},toggleTask:function(e){try{return G.db.doc("/projects/".concat(e.projectId,"/tasks/").concat(e.id)).update({checked:e.checked,expanded:e.expanded})}catch(t){z('Error on updating "checked" task: ',t)}},searchTask:function(e){try{return G.db.collectionGroup("tasks").where("_uids","array-contains",h().currentUser.uid).where("_name_lower",">=",e.toLowerCase()).where("_name_lower","<=",e.toLowerCase()+"zzz").orderBy("_name_lower","asc").get().then((function(e){var t=[];return e.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),console.log(t),t}))}catch(t){z("Error on searching tasks: ",t)}}};function J(e){return e.projectId||(S("error","No project id!"),console.error(e)),{name:e.name||"",checked:e.checked||!1,id:e.id||null,timestamp:e.timestamp||new Date,level:e.level||0,parentId:e.parentId||null,description:e.description||"",projectId:e.projectId,priority:e.priority||0,expanded:!1,subtasks:[]}}n(285);var K=n(119),Q=function(){return window.isSmallScreen?null:Object(A.jsx)(K.a,{place:"bottom",type:"dark",effect:"solid",delayShow:1e3,html:!0})},Z={db:f(),headers:function(){return{authorization:localStorage.getItem("AuthToken")}},getDrawer:function(e,t,n){var a=t.split(","),c=Object(o.a)(a,2),r=c[0],s=c[1];try{var i,l=Z.db.collectionGroup("tasks").where("_uids","array-contains",h().currentUser.uid);switch(e){case y.inboxUrl:i=l.where("checked","==",!1).orderBy(r,s);break;case y.priorityUrl:i=l.where("priority",">",0).orderBy("priority","desc");break;default:return S("error",k.drawer.invalidDrawer),n([]),function(){}}if(i)return i.onSnapshot((function(e){var t=[];e.forEach((function(e){var n=e.data();t.push(Object(u.a)({id:e.id},n))})),n(t),console.info("Tasks in inbox: ",t.length)}))}catch(d){z("Error on fetching drawer: ",d)}}},V=function(e){var t=e.children,n=e.modalOpen,a=e.okButton,c=e.cancelButton,r=e.onAccept,s=e.onCancel,o=e.loading;return n?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"modal",children:Object(A.jsxs)("div",{className:o?" loader-input cover":"",children:[Object(A.jsx)("div",{className:"modal-content",children:t}),Object(A.jsxs)("div",{className:"modal-footer",children:[a&&Object(A.jsx)("button",{onClick:r,className:"modal-close waves-effect waves-green btn",dangerouslySetInnerHTML:{__html:a}}),c&&Object(A.jsx)("button",{onClick:s,className:"modal-close waves-effect waves-red btn left",dangerouslySetInnerHTML:{__html:c}})]})]})}),Object(A.jsx)("div",{className:"backdrop dark",onClick:s})]}):null},X=function(e){var t=e.trigger,n=e.task,c=e.modalOpen,r=e.setModalOpen,s=Object(a.useState)(!1),i=Object(o.a)(s,2),l=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(o.a)(j,2),p=b[0],m=b[1],h=Object(a.useState)(""),f=Object(o.a)(h,2),O=f[0],x=f[1],g=Object(a.useState)(n.subtasks||[]),v=Object(o.a)(g,2),N=v[0],w=v[1],y=Object(a.useState)(n.name||""),C=Object(o.a)(y,2),S=C[0],_=C[1],T=Object(a.useState)(n.description||""),P=Object(o.a)(T,2),U=P[0],D=P[1],L=Object(a.useState)(n.priority||0),F=Object(o.a)(L,2),M=F[0],z=F[1],B=Object(a.useContext)(ie);function q(e){return H.apply(this,arguments)}function H(){return(H=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(!0),e.next=4,G.updateTask(Object(u.a)(Object(u.a)({},n),{},{name:S,priority:M,description:U}));case 4:d(!1),r(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.checked=!t.checked,e.next=3,G.toggleTask(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),e.next=4,G.addTask(J({name:O,parentId:n.id,level:n.level+1,projectId:B.id}));case 4:m(!1),x("");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){_(n.name||""),w(n.subtasks||[]),D(n.description||""),z(n.priority||0)}),[n]),Object(A.jsxs)(A.Fragment,{children:[t&&Object(A.jsx)("button",{className:t.className,onClick:function(){return r(!0)},children:t.text}),Object(A.jsxs)(V,{modalOpen:c,loading:l,onAccept:q,onCancel:function(){return r(!1)},okButton:'<i class="material-icons right">save</i>',cancelButton:'<i class="material-icons right">close</i>',children:[Object(A.jsxs)("form",{onSubmit:q,children:[Object(A.jsx)("div",{children:Object(A.jsx)("input",{value:S,required:!0,minLength:3,placeholder:k.task.name,onChange:function(e){return _(e.target.value)}})}),Object(A.jsx)("div",{children:Object(A.jsx)("input",{value:U,className:"materialize-textarea",placeholder:k.task.notes,onChange:function(e){return D(e.target.value)}})}),Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:k.task.prio._}),Object(A.jsxs)("div",{className:"flex-row",children:[Object(A.jsx)("button",{className:"btn priority prio-0 "+(0===M&&"active"),onClick:function(){return z(0)},type:"button",children:Object(A.jsx)("i",{className:"material-icons",children:"flag"})}),Object(A.jsx)("button",{className:"btn priority prio-1 "+(1===M&&"active"),onClick:function(){return z(1)},type:"button",children:Object(A.jsx)("i",{className:"material-icons",children:"flag"})}),Object(A.jsx)("button",{className:"btn priority prio-2 "+(2===M&&"active"),onClick:function(){return z(2)},type:"button",children:Object(A.jsx)("i",{className:"material-icons",children:"flag"})}),Object(A.jsx)("button",{className:"btn priority prio-3 "+(3===M&&"active"),onClick:function(){return z(3)},type:"button",children:Object(A.jsx)("i",{className:"material-icons",children:"flag"})})]})]})]}),Object(A.jsxs)("ul",{className:"list-unstyled flex-column",children:[Object(A.jsx)("li",{className:p?" loader-input":"",children:Object(A.jsxs)("form",{onSubmit:function(e){return R.apply(this,arguments)},className:"flex-row",children:[Object(A.jsx)("input",{onChange:function(e){return x(e.target.value)},placeholder:k.task.subtasks,value:O,className:"input-field",required:!0,minLength:3}),O?Object(A.jsx)("button",{className:"material-icons btn right",children:"save"}):""]})},"new-subtask"),(N||[]).map((function(e){return Object(A.jsxs)("li",{"data-tip":e.timestamp,className:"block",children:[Object(A.jsxs)("label",{className:"left",children:[Object(A.jsx)("input",{type:"checkbox",checked:e.checked,id:e.id,className:"material-cb",onChange:function(){return function(e){return W.apply(this,arguments)}(e)}}),Object(A.jsx)("div",{})]}),Object(A.jsx)("span",{className:"left",children:e.name})]},e.id)}))]})]})]})},$=function e(t){var n=t.task,c=t.level,r=Object(a.useState)(n.subtasks||[]),s=Object(o.a)(r,2),i=s[0],l=s[1],d=Object(a.useState)(!1),j=Object(o.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)(n.expanded||!1),h=Object(o.a)(m,2),f=h[0],O=h[1],x=Object(a.useContext)(ie),g=i.filter((function(e){return!e.checked})).length||0,v=n.checked&&x.showCompleted?"done":"",N=(x.showCompleted?i.length:g)?"":" v-hidden";function w(){return(w=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.checked=!t.checked,t.checked&&(t.expanded=!1),e.next=4,G.toggleTask(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm(k.task.delete.all)){e.next=3;break}return e.next=3,G.deleteTask(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){l(n.subtasks||[])}),[n.subtasks]),Object(A.jsxs)("li",{className:v+" task",children:[Object(A.jsx)(Q,{}),Object(A.jsxs)("div",{className:"task__content parent-hover","data-tip":n.timestamp,children:[Object(A.jsx)("button",{className:"toggle-expand subtle ib material-icons tiny left btn-pr"+(f?" expanded":"")+N,onClick:function(){return function(e){return y.apply(this,arguments)}(!f)},children:"chevron_right"}),Object(A.jsxs)("label",{className:"left prio-"+n.priority,children:[Object(A.jsx)("input",{type:"checkbox",className:"material-cb",checked:n.checked,onChange:function(){return function(e){return w.apply(this,arguments)}(n)}}),Object(A.jsx)("div",{})]}),Object(A.jsxs)("button",{className:"left-align ib "+(n.checked,""),onClick:function(){return p(!0)},children:[Object(A.jsx)("span",{className:"task-name",children:n.name}),i.length>0?Object(A.jsxs)("small",{className:"subtle child-hover ml-5 ib","data-tip":k.subtaskStatus,children:["(",g," / ",i.length-g,")"]}):null,n.description&&Object(A.jsx)("small",{className:"subtle ml-5",children:n.description})]}),Object(A.jsxs)("span",{className:"child-hover ml-auto flex-row",children:[Object(A.jsx)("button",{className:"material-icons ib task__action-button","data-tip":k.task.delete._,onClick:function(){return function(e){return S.apply(this,arguments)}(n)},children:"delete"}),Object(A.jsx)("button",{className:"material-icons ib task__action-button","data-tip":k.task.edit,onClick:function(){return p(!0)},children:"edit"}),Object(A.jsx)(X,{task:Object(u.a)({},n),modalOpen:b,setModalOpen:p})]})]}),f&&n.level<C.maxDepth&&Object(A.jsx)("ul",{className:"subtasks","aria-details":c||0,children:i.map((function(t){return Object(A.jsx)(e,{task:t,level:(c||0)+1},t.id)}))})]})},ee=(n(286),function(e){var t=e.sort,n=e.setSort,c=e.children,r=Object(a.useState)(!1),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),j=d[0],b=d[1];return Object(A.jsxs)("div",{className:"buttons",children:[Object(A.jsx)(Q,{}),t&&Object(A.jsx)("button",{className:"btn",onClick:function(){return l(!0)},"data-tip":k.sort._,children:Object(A.jsx)("i",{className:"material-icons",children:"swap_vert"})}),i&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("ul",{className:"dropdown dd-left dd-20 dd-high",children:C.sort.map((function(e){return Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsxs)("button",{className:"ib",onClick:function(){return n(e.sort)},children:[e.icon&&Object(A.jsx)("i",{className:"material-icons tiny left btn-p",children:e.icon}),Object(A.jsx)("span",{className:e.sort===t?" bold":"",children:e.name})]})},e.sort)}))}),Object(A.jsx)("div",{className:"backdrop",onClick:function(){return l(!1)}})]}),c&&Object(A.jsx)("button",{className:"btn",onClick:function(){return b(!0)},children:Object(A.jsx)("i",{className:"material-icons","data-tip":k.project.more,children:"more_horiz"})}),j&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("ul",{className:"dropdown dd-left dd-20 dd-high",children:c}),Object(A.jsx)("div",{className:"backdrop",onClick:function(){return b(!1)}})]})]})}),te=function(e){var t=e.projectFunctions,n=e.isLoading,c=Object(a.useContext)(ie),r=t.showCompleted;function s(){return(s=Object(E.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("THIS SHOULD NOT WORK!!!"),!window.confirm(k.project.delete._)){e.next=5;break}return e.next=4,B.deleteProject(c);case 4:t.setProject({deleted:!0});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(E.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm(k.project.delete.tasks)){e.next=3;break}return e.next=3,B.deleteProjectTasks(c);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(E.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=prompt("User Email to join?"))){e.next=11;break}return e.next=4,B.getUserByEmail(t);case 4:if(n=e.sent){e.next=9;break}return S("error",k.genericError),console.error("error: ",n),e.abrupt("return");case 9:return e.next=11,B.addUserToProject(c,n.username);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(E.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),t.setShowCompleted(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.editListName?Object(A.jsxs)("form",{onSubmit:t.saveListName,className:"flex-row "+("n"===n?" loader-input":""),children:[Object(A.jsx)("input",{className:"as-title h5 project-title",autoFocus:!0,value:t.projectName,disabled:"n"===n,onChange:function(e){return t.setProjectName(e.target.value)}}),Object(A.jsx)("button",{className:"ib material-icons",type:"submit",children:"save"}),Object(A.jsx)("button",{className:"ib material-icons",onClick:function(){return t.setEditListName(!1)},children:"close"})]}):Object(A.jsxs)("div",{className:"project-title-bar","data-tip":k.project.title._,children:[Object(A.jsx)("h5",{className:"project-title",onClick:function(){return t.setEditListName(!0)},children:t.projectName}),Object(A.jsxs)(ee,{sort:t.sort,setSort:t.setSort,children:[Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsxs)("button",{className:"ib w-100 left-align",onClick:function(){return function(e){return l.apply(this,arguments)}(!r)},children:[Object(A.jsx)("i",{className:"material-icons tiny left btn-pr",children:r?"check_box_outline_blank":"check_box"}),r?k.hideCompleted:k.showCompleted]})},"completed"),Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsxs)("button",{className:"ib w-100 left-align",onClick:function(){return function(){return i.apply(this,arguments)}()},children:[Object(A.jsx)("i",{className:"material-icons tiny left btn-pr",children:"person_add"}),k.project.share]})},"share"),Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsxs)("button",{className:"ib w-100 left-align",onClick:function(){return function(){return o.apply(this,arguments)}()},children:[Object(A.jsx)("i",{className:"material-icons tiny left btn-pr",children:"delete_forever"}),k.project.delete.tasks]})},"tasks"),Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsxs)("button",{className:"ib w-100 left-align",onClick:function(){return function(){return s.apply(this,arguments)}()},children:[Object(A.jsx)("i",{className:"material-icons tiny left btn-pr",children:"delete"}),k.project.delete._]})},"delete")]})]})},ne=function(e){var t=e.changeToProject,n=Object(a.useContext)(ie),c=Object(a.useState)(n.sort),r=Object(o.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(""),d=Object(o.a)(l,2),j=d[0],b=d[1],p=Object(a.useState)([]),m=Object(o.a)(p,2),h=m[0],f=m[1],O=Object(a.useState)("yes"),x=Object(o.a)(O,2),g=x[0],v=x[1],N=Object(a.useState)(n.showCompleted),w=Object(o.a)(N,2),y=w[0],C=w[1],S=Object(a.useState)(n.name||k.project.noName),_=Object(o.a)(S,2),T=_[0],P=_[1],U=Object(a.useState)(!1),D=Object(o.a)(U,2),L=D[0],F=D[1],M=h.filter((function(e){return!e.checked})),z=h.filter((function(e){return!!e.checked})),q=Object(a.useMemo)((function(){return!z.length||M.length||y?"":Object(A.jsx)("li",{children:Object(A.jsx)(R,{className:"o-1",inspireText:k.allTasksCompleted()})})}),[h,y]),H=Object(a.useMemo)((function(){return k.task.addTaskPh()}),[n.id]);function W(){return(W=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v("t"),e.next=4,G.addTask(J({name:j,projectId:n.id}));case 4:v(""),b("");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v("n"),e.next=4,K({name:T});case 4:F(!1),v("");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(E.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.updateProject(Object(u.a)(Object(u.a)({},n),t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){console.log("changed project id"),P(n.name),C(n.showCompleted),v("p");var e=G.getTasksForProject(n.id,s,(function(e){f(e),v(""),n.id&&s!==n.sort&&B.updateProject(Object(u.a)(Object(u.a)({},n),{},{sort:s}))}));return function(){e&&e()}}),[n.id,s]),console.log("ALL",q),Object(A.jsxs)("div",{className:"p"===g?"loader-input cover":"",children:[Object(A.jsx)(te,{projectFunctions:{changeToProject:t,projectName:T,setProjectName:P,saveListName:function(e){return Y.apply(this,arguments)},editListName:L,setEditListName:F,showCompleted:y,setShowCompleted:C,sort:s,setSort:i},isLoading:g}),Object(A.jsxs)("ul",{children:[M.map((function(e){return Object(A.jsx)($,{task:e,level:0},e.id)})),y&&z.map((function(e){return Object(A.jsx)($,{task:e},e.id)})),Object(A.jsx)("li",{className:"task",children:Object(A.jsxs)("form",{onSubmit:function(e){return W.apply(this,arguments)},className:"flex-row task__content form-inline"+("t"===g?" loader-input":""),children:[Object(A.jsx)("i",{className:"material-icons left v-hidden btn-p",children:"add"}),Object(A.jsx)("button",{className:"btn p0",children:Object(A.jsx)("i",{className:"material-icons left subtle btn-pr",children:j?"save":"add"})}),Object(A.jsx)("div",{className:"flex-center-start w-100",children:Object(A.jsx)("div",{className:"input-group mb-2",children:Object(A.jsx)("input",{onChange:function(e){b(e.target.value)},className:"invisible f-100 btn-pl",placeholder:H,required:!0,value:j,id:"add-project-task",disabled:"t"===g,autoComplete:"off"})})})]})}),q]})]})};function ae(e){return[y.inboxUrl,y.priorityUrl].indexOf(e)>=0}n(287);var ce=function(){var e=Object(a.useContext)(le),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),i=Object(o.a)(s,2),l=i[0],u=i[1];return Object(A.jsxs)("form",{className:"left",id:"search-tasks",onSubmit:function(e){e.preventDefault(),G.searchTask(c).then((function(e){e.length?u(e):u([{name:k.task.noResults}]),console.log("set the results",e)}))},children:[Object(A.jsx)("input",{type:"text",className:"input",placeholder:k.task.search,value:c,onChange:function(e){return r(e.target.value)},required:!0,minLength:2}),l.length?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"backdrop dark",onClick:function(){return u([])}}),Object(A.jsx)("ul",{className:"search-results dropdown",children:l.map((function(t){return Object(A.jsxs)("li",{className:"dropdown-item pointer",onClick:function(){return t.projectId&&(n=t,console.log(n),u([]),void e({id:n.projectId}));var n},children:[Object(A.jsx)("i",{className:"material-icons left subtle btn-pr ",children:t.checked?"check_box":"check_box_outline_blank"}),t.name]},t.id)}))})]}):""]})};function re(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(Pe);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("button",{className:"btn navbar-btn",onClick:function(){return c(!0)},children:Object(A.jsx)("i",{className:"material-icons",children:"settings"})}),n&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("ul",{className:"dropdown dd-left dd-big dd-high",onClick:function(){return c(!1)},children:[Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsx)("button",{className:"ib left left-align w-100",onClick:T.logout,children:k.login.logout})}),Object(A.jsx)("li",{className:"",children:Object(A.jsx)("small",{className:"left subtle btn-p",children:k.loggedInAs(r.email)})})]}),Object(A.jsx)("div",{className:"backdrop",onClick:function(){return c(!1)}})]})]})}var se=function(e){var t=e.setShowSidebar,n=e.showSidebar,c=Object(a.useContext)(le);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("button",{className:"todo-navbar__button btn",children:Object(A.jsx)("i",{className:"material-icons",onClick:function(){return t(!n)},children:"menu"})}),Object(A.jsx)("div",{className:"todo-navbar "+(n?"open":"closed"),children:Object(A.jsx)("nav",{className:"navbar-hide",children:Object(A.jsxs)("div",{className:"nav-wrapper",children:[Object(A.jsx)("button",{className:"navbar-btn btn left","data-tip":k.menu.menu,onClick:function(){return t(!n)},children:Object(A.jsx)("i",{className:"material-icons",children:"menu"})}),Object(A.jsx)("button",{className:"navbar-btn btn left",onClick:function(){return c({id:y.inboxUrl})},children:Object(A.jsx)("i",{className:"material-icons",children:"home"})}),Object(A.jsx)(ce,{}),Object(A.jsx)("ul",{className:"navbar-right",children:Object(A.jsx)("li",{children:Object(A.jsx)(re,{})})})]})})}),Object(A.jsx)(Q,{})]})},oe=function(e){var t=e.drawerUrl,n=U[t],c=Object(a.useState)(!0),r=Object(o.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)([]),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(n.sort),p=Object(o.a)(b,2),m=p[0],h=p[1],f=Object(a.useMemo)((function(){return k.allTasksCompleted()}),[]);return Object(a.useEffect)((function(){if(ae(t)){var e=Z.getDrawer(t,m,(function(e){j(e),i(!1)}));return function(){e&&e()}}}),[t,m]),Object(A.jsxs)("div",{className:s?"loader-input cover":"",children:[Object(A.jsxs)("div",{className:"project-title-bar",children:[Object(A.jsx)("h5",{className:"project-title","data-tip":n.text.tooltip,children:n.text._}),Object(A.jsx)(ee,{sort:m,setSort:h})]}),Object(A.jsx)("ul",{children:d.length?d.map((function(e){return Object(A.jsx)($,{task:e,level:0},e.id)})):Object(A.jsx)("li",{children:Object(A.jsx)("h5",{className:"subtle ml-50",children:f})})})]})},ie=c.a.createContext({}),le=c.a.createContext({}),ue=function(){var e=Object(l.g)(),t=Object(a.useRef)(Object(l.h)()),n=Object(a.useState)({empty:!0}),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!window.isSmallScreen),u=Object(o.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(Object(A.jsx)(A.Fragment,{})),p=Object(o.a)(b,2),m=p[0],h=p[1];function f(n){n.id!==r.id&&(t.current.projectId=n.id||"",s(n),e.push(y.project(n.id||"")))}return Object(a.useEffect)((function(){t.current.projectId?ae(t.current.projectId)?h(Object(A.jsx)(oe,{drawerUrl:t.current.projectId})):r.id?h(Object(A.jsx)(ne,{changeToProject:f})):h(Object(A.jsx)(A.Fragment,{})):h(Object(A.jsx)(R,{className:"",setShowSidebar:j,addText:k.project.noSelected,inspireText:k.project.inspire}))}),[r.id]),Object(a.useContext)(Pe)?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(le.Provider,{value:f,children:Object(A.jsxs)(ie.Provider,{value:r,children:[Object(A.jsx)(se,{setShowSidebar:j,showSidebar:d}),Object(A.jsxs)("div",{id:"todo-app",className:d?"":" hidden-bar",children:[Object(A.jsxs)("div",{className:"projects-list-box",children:[d?Object(A.jsx)("div",{className:"backdrop dark only-mobile",onClick:function(){return j(!1)}}):"",Object(A.jsx)("div",{className:"projects-list-box-inner",children:Object(A.jsx)(H,{projectId:t.current.projectId,changeToProject:f})})]}),Object(A.jsx)("div",{className:"tasks-list-box flex-column",children:m})]})]})})}):(e.push(y.login),null)},de=(n(293),n.p+"static/media/logo.18405402.png"),je=function(){return Object(A.jsx)(i.b,{className:"btn center-logo",to:y.home,children:Object(A.jsx)("img",{src:de,alt:"Logo",width:"100%"})})},be=function(e){var t=e.children,n=e.title,a=e.loading;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(je,{}),Object(A.jsx)("div",{className:"flex-column vh-100 place-center"+(a?" loader-input cover":""),children:Object(A.jsxs)("div",{className:"login-box relative",children:[n&&Object(A.jsx)("h5",{className:"mt-5",children:n}),t]})})]})},pe=function(){var e=Object(l.g)(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],s=n[1],d=Object(a.useState)({}),j=Object(o.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)(!1),h=Object(o.a)(m,2),f=h[0],O=h[1],x=Object(a.useState)({}),g=Object(o.a)(x,2),v=g[0],N=g[1];if(c.a.useContext(Pe))return e.push(y.app),null;function w(){return(w=Object(E.a)(I.a.mark((function e(t){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=T.validateSignup(b),(a=Object.values(n)).length?(N(n),a.length&&S("error",a[0])):(O(!0),T.signup(b).then((function(e){O(!1),e.user&&(S("success",k.login.signupSuccess),p({}),s(!0))})).catch((function(e){var t=e.response;if(t.data&&t.data.code)T.loginCatch(t.data);else{N(t.data);var n=Object.values(t.data);n.length&&S("error",n[0])}O(!1)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){p(Object(u.a)(Object(u.a)({},b),e))}return r?Object(A.jsx)(l.a,{to:"/app"}):Object(A.jsx)(be,{"data-tip":k.login.signup,loading:f,children:Object(A.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},className:"flex-center-self",children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{children:k.login.f.name._}),Object(A.jsx)("input",{value:b.name||"",onChange:function(e){return C({name:e.target.value})},placeholder:k.login.f.name.ph,required:!0,autoComplete:"off"}),v.name&&Object(A.jsx)("small",{children:v.name})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{children:k.login.f.email._}),Object(A.jsx)("input",{value:b.email||"",onChange:function(e){return C({email:e.target.value})},placeholder:k.login.f.email.ph,type:"email",required:!0,autoFocus:!0,autoComplete:"off"}),v.email&&Object(A.jsx)("small",{children:v.email})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{children:k.login.f.password.new}),Object(A.jsx)("input",{value:b.password||"",onChange:function(e){return C({password:e.target.value})},placeholder:k.login.f.password.ph,type:"password",required:!0,autoComplete:"off"}),v.password&&Object(A.jsx)("small",{children:v.password})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{className:"flex-column",children:[Object(A.jsx)("button",{type:"submit",className:"btn btn-block main-btn",children:k.login.signup}),Object(A.jsx)("hr",{}),Object(A.jsxs)(i.b,{className:"no-color u",to:y.login,children:[k.login.yesAccount," ",k.login.login]})]})]})})},me=(n(294),function(){return Object(A.jsx)("span",{className:"app-loader",children:Object(A.jsx)("span",{className:"loader-img"})})}),he=function(){var e=Object(l.g)(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],s=n[1],d=Object(a.useState)({}),j=Object(o.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)(!1),h=Object(o.a)(m,2),f=h[0],O=h[1];if(c.a.useContext(Pe))return e.push(y.app),null;return f?Object(A.jsx)(l.a,{to:y.app}):Object(A.jsx)(be,{"data-tip":k.login.login,loading:r,children:Object(A.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(!0),T.login(b).then((function(e){s(!1),e.user?(p({}),O(!0),S("success",k.login.success)):(400===e.error.code&&S("error",k.login.error),console.info(e))})).catch((function(e){s(!1),T.loginCatch(e)}))},className:"flex-center-self",children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{children:k.login.f.email._}),Object(A.jsx)("input",{value:b.email||"",onChange:function(e){return p(Object(u.a)(Object(u.a)({},b),{},{email:e.target.value}))},placeholder:k.login.f.email.ph,type:"email",autoFocus:!0,required:!0})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{children:k.login.f.password._}),Object(A.jsx)("input",{value:b.password||"",onChange:function(e){return p(Object(u.a)(Object(u.a)({},b),{},{password:e.target.value}))},placeholder:k.login.f.password.ph,type:"password",autoComplete:"off",required:!0})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{className:"flex-column",children:[Object(A.jsx)("button",{type:"submit",className:"btn btn-block main-btn",children:k.login.login}),Object(A.jsx)("hr",{}),Object(A.jsxs)(i.b,{to:y.signup,className:"no-color u",children:[k.login.noAccount," ",k.login.signup]})]})]})})},fe=(n(295),n.p+"static/media/main.7da4cb08.svg"),Oe=n.p+"static/media/phone.a2e1efa1.svg",xe=n.p+"static/media/write.1a6fc561.svg",ge=n.p+"static/media/explore.868711a0.svg",ve=n.p+"static/media/calendar.bc836bb1.svg",ke=n.p+"static/media/create.b7ec6ee7.svg",Ne=n.p+"static/media/office.a44ddd80.svg",we=(n(296),function(e){var t=e.img,n=e.title;return Object(A.jsx)("div",{className:"f-45 place-center",children:Object(A.jsxs)("div",{className:"feature",children:[Object(A.jsx)("h6",{className:"feature__title",children:n}),Object(A.jsx)("div",{className:"place-center",children:Object(A.jsx)("img",{src:t,className:"feature__image",alt:n})})]})})}),ye=(n(297),function(e){var t=e.className;return Object(A.jsx)("ul",{className:"navbar-links-ul "+t,children:Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)("a",{className:"btn",href:"#features",children:"Features"})})})}),Ce=function(){var e=Object(a.useContext)(Pe),t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),l=Object(o.a)(s,2),u=l[0],d=l[1];return Object(A.jsx)("header",{className:"header-area",children:Object(A.jsx)("div",{className:"navbar-area headroom",children:Object(A.jsxs)("nav",{className:"navbar",children:[Object(A.jsx)("button",{className:"hide-lg navbar-toggler btn",type:"button","aria-label":"Toggle navigation",onClick:function(){return r(!c)},children:Object(A.jsx)("i",{className:"material-icons medium",children:"menu"})}),Object(A.jsx)("a",{className:"navbar-brand",href:y.home,children:k.appName}),Object(A.jsx)(je,{}),Object(A.jsx)("div",{className:"navbar-links",children:Object(A.jsx)(ye,{className:""})}),e?Object(A.jsx)(i.b,{className:"btn main-btn goto-app",to:y.app,children:k.gotoApp}):Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("span",{className:"relative",children:[Object(A.jsx)("button",{className:"btn main-btn goto-app",onClick:function(){return d(!0)},children:k.gotoApp}),u&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("ul",{className:"dropdown goto-app-dd",children:[Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsx)(i.b,{className:"btn",to:y.login,children:k.login.login})}),Object(A.jsx)("li",{className:"dropdown-item",children:Object(A.jsx)(i.b,{className:"btn",to:y.signup,children:k.login.signup})})]}),Object(A.jsx)("div",{className:"backdrop",onClick:function(){return d(!1)}})]})]})})]})})})},Se=function(){return Object(A.jsxs)("footer",{className:"footer",children:[Object(A.jsx)("div",{className:"container",children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col l6 s12",children:[Object(A.jsx)("h5",{className:"",children:k.appName}),Object(A.jsx)("p",{children:k.appDesc})]}),Object(A.jsxs)("div",{className:"col l4 offset-l2 s12",children:[Object(A.jsx)("h5",{className:"",children:"Links"}),Object(A.jsx)(ye,{className:"footer-links"})]})]})}),Object(A.jsx)("div",{className:"copyright",children:Object(A.jsxs)("div",{className:"container copyright__content",children:[Object(A.jsxs)("small",{className:"left subtle",children:["Copyright \xa9 ",(new Date).getFullYear()," Nico Kupfer"]}),Object(A.jsx)("small",{className:"right subtle",children:Object(A.jsx)("a",{className:"no-color u",href:"https://github.com/nicojones/minimal-todo",target:"_blank",children:"Code on Github"})})]})})]})},_e=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Ce,{}),Object(A.jsxs)("div",{className:"landing-content",children:[Object(A.jsxs)("div",{className:"flex-row w-100 flex-wrap",children:[Object(A.jsxs)("div",{className:"f-50 flex-column",children:[Object(A.jsx)("br",{}),Object(A.jsx)("h2",{className:"center-align",children:k.landing.title}),Object(A.jsx)("h4",{className:"center-align",children:k.landing.sub}),Object(A.jsx)("h5",{className:"subtle center-align mb-15",children:"(in construction!)"})]}),Object(A.jsx)("div",{className:"f-50 place-center",children:Object(A.jsx)("img",{src:fe,alt:"Present app",className:"svg-img svg-img--big"})})]}),Object(A.jsx)("a",{"data-name":"features",style:{position:"relative",top:-80}}),Object(A.jsxs)("div",{className:"section-box",children:[Object(A.jsx)("h6",{className:"section-title",children:k.landing.feature._}),Object(A.jsxs)("div",{className:"features-section",children:[Object(A.jsx)(we,{img:Oe,title:k.landing.feature.todo}),Object(A.jsx)(we,{img:xe,title:k.landing.feature.write}),Object(A.jsx)(we,{img:ve,title:k.landing.feature.calendar}),Object(A.jsx)(we,{img:ge,title:k.landing.feature.explore}),Object(A.jsx)(we,{img:Ne,title:k.landing.feature.read}),Object(A.jsx)(we,{img:ke,title:k.landing.feature.create})]})]})]}),Object(A.jsx)(Se,{})]})},Te=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(je,{}),Object(A.jsx)("div",{className:"w-100 vh-100 place-center",children:Object(A.jsx)("h2",{children:"Not found!"})})]})},Pe=c.a.createContext({}),Ie=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(o.a)(r,2),u=s[0],d=s[1];return T.authState((function(e){console.info("User is ".concat(e?"":"NOT ","logged in")),d(e),c(!0)})),Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(Pe.Provider,{value:u,children:n?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(i.a,{children:Object(A.jsxs)(l.d,{children:[Object(A.jsx)(l.b,{path:y.home,exact:!0,children:Object(A.jsx)(_e,{})}),Object(A.jsx)(l.b,{exact:!0,path:y.signup,component:pe}),Object(A.jsx)(l.b,{exact:!0,path:y.login,component:he}),Object(A.jsx)(l.b,{exact:!0,path:"".concat(y.project(":projectId?")),component:ue}),Object(A.jsx)(l.b,{component:Te})]})})}):Object(A.jsx)(me,{})})})};window.isSmallScreen=!1,window.onresize=function(){window.isSmallScreen=window.innerWidth<800,document.getElementById("root").className=window.isSmallScreen?"mobile":"desktop"},window.onresize(),s.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(Ie,{})}),document.getElementById("root"))}},[[298,1,2]]]);