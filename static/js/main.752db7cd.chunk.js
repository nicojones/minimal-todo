(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(5),s=n.n(c),r=n(20),o=n.n(r),i=(n(26),n(7)),l=n.n(i),u=n(8),d=n(9),b=(n(28),n(13)),j=(n(29),n(18));var p=function(e){var t=e.children,n=e.modalOpen,c=e.okButton,r=e.cancelButton,o=e.onAccept,i=e.onCancel;return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsxs)("div",{className:"z-depth-5 modal "+(n?"open":""),children:[Object(a.jsx)("div",{className:"modal-content",children:t}),Object(a.jsxs)("div",{className:"modal-footer",children:[c&&Object(a.jsx)("button",{onClick:o,className:"modal-close waves-effect waves-green btn-flat btn",dangerouslySetInnerHTML:{__html:c}}),r&&Object(a.jsx)("button",{onClick:i,className:"modal-close waves-effect waves-red btn-flat btn left",dangerouslySetInnerHTML:{__html:r}})]})]}),Object(a.jsx)("div",{className:"backdrop",onClick:i})]})};var h=function(e){return{name:e.name||"",checked:e.checked||!1,key:e.key||null,timestamp:e.timestamp||new Date,subtasks:e.subtasks||[],description:e.description||""}},m=n(15);m.a.initializeApp({apiKey:"AIzaSyDxmJzv3ccl0_ouKB9oVSzWIsn6uysYMLQ",authDomain:"todo-list-react-33431.firebaseapp.com",databaseURL:"https://todo-list-react-33431.firebaseio.com",projectId:"todo-list-react-33431",storageBucket:"todo-list-react-33431.appspot.com",messagingSenderId:"153291173882",appId:"1:153291173882:web:4eb5673b9a70ce5828fe43",measurementId:"G-BCMCPMQHDB"});m.a.auth;var f=m.a.database(),k="Quick-add a task...",x="Add a subtask to this task",O="Subtasks",v="All tasks completed!",g="No completed tasks",y="Show completed tasks",N="Hide completed tasks",w="Save",C="Cancel changes";var S=function(e){var t=e.trigger,n=e.task,r=Object(c.useState)(!1),o=Object(d.a)(r,2),i=o[0],b=o[1],m=Object(c.useState)(""),k=Object(d.a)(m,2),v=k[0],g=k[1],y=Object(c.useState)(n.subtasks||[]),N=Object(d.a)(y,2),S=N[0],T=N[1],D=Object(c.useState)(n.name||""),I=Object(d.a)(D,2),B=I[0],E=I[1],A=Object(c.useState)(n.description||""),F=Object(d.a)(A,2),z=F[0],M=F[1];function _(e,t){return H.apply(this,arguments)}function H(){return(H=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.key){e.next=6;break}return e.next=4,f.ref("todos/".concat(t.key)).update(t);case 4:e.next=8;break;case 6:return e.next=8,f.ref("todos").push(h(t)).then((function(e){t.key=e.key}));case 8:b(!!n),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function L(e){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.name=B,n.description=z,n.subtasks=S,e.next=6,_(n,!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:b(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){E(n.name||""),T(n.subtasks||[]),M(n.description||"")}),[n]),Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("button",{className:t.className,onClick:function(){return b(!0)},children:t.text}),Object(a.jsxs)(p,{modalOpen:i,onAccept:function(e){return Q.apply(this,arguments)},onCancel:function(){return b(!1)},okButton:w+' <i class="material-icons right">save</i>',cancelButton:C+' <i class="material-icons right">cancel</i>',children:[Object(a.jsxs)("form",{onSubmit:L,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Task Name"}),Object(a.jsx)("input",{value:B,placeholder:"Enter a name for the task",onChange:function(e){return E(e.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Notes"}),Object(a.jsx)("textarea",{value:z,className:"materialize-textarea",placeholder:"An optional description always helps",onChange:function(e){return M(e.target.value)}})]})]}),Object(a.jsxs)("ul",{className:"list-unstyled flex-column",children:[S.map((function(e){return Object(a.jsxs)("li",{title:e.timestamp,className:"block",children:[Object(a.jsxs)("label",{className:"left",children:[Object(a.jsx)("input",{type:"checkbox",checked:e.checked,id:e.key,onChange:function(){return(t=e).checked=!t.checked,void T(Object(j.a)(null===n||void 0===n?void 0:n.subtasks));var t}}),Object(a.jsx)("span",{children:" "})]}),Object(a.jsx)("span",{className:"left",children:e.name})]},e.key)})),Object(a.jsx)("li",{children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),T([].concat(Object(j.a)(S),[{key:Math.random(),timestamp:new Date,name:v,checked:!1}])),e.target[0].value=""},children:[Object(a.jsx)("label",{children:O}),Object(a.jsx)("input",{onChange:function(e){return g(e.target.value)},placeholder:x,className:"input-field"})]})},"new-subtask")]})]})]})};var T=function(e){var t=e.task,n=e.saveTask,r=e.onDelete,o=Object(c.useState)(!1),i=Object(d.a)(o,2),l=i[0],u=i[1];return Object(a.jsxs)("li",{className:(t.checked?"done":"")+" parent-hover",title:t.timestamp,children:[Object(a.jsxs)("label",{className:"left",children:[Object(a.jsx)("input",{type:"checkbox",checked:t.checked,onChange:function(){return function(e){e.checked=!e.checked,n(e)}(t)}}),Object(a.jsx)("span",{children:" "})]}),Object(a.jsx)("span",{className:"left task-name "+(t.checked,""),children:t.name}),Object(a.jsx)("button",{className:"child-hover btn-subtle ml-5 material-icons right",onClick:function(){return r(t)},children:"delete"}),Object(a.jsx)("button",{className:"child-hover toggle-expand btn-subtle ml-5 material-icons right",onClick:function(){return u(!l)},children:"add"}),Object(a.jsx)(S,{trigger:{className:"child-hover btn-subtle ml-5 material-icons right",text:"edit"},task:Object(b.a)({},t)}),l&&Object(a.jsx)(s.a.Fragment,{children:Object(a.jsx)("p",{children:t.description})})]})};var D={updateTask:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.ref("todos/".concat(t.key)).update(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error on update: ",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),addTask:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.ref("todos").push(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error on save: ",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),deleteTask:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.findIndex((function(e){return e.key===t.key}))>=0)){e.next=4;break}return e.next=4,f.ref("todos/".concat(t.key)).remove((function(){console.log('"'.concat(t.name,'" was removed!'))}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getTasks:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{f.ref("todos").on("value",(function(e){var n=[];e.forEach((function(e){n.push(Object(b.a)(Object(b.a)({},e.val()),{},{key:e.key}))})),t(n)}))}catch(n){console.error("Error on fetching tasks: ",n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var I=function(){var e,t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)(!0),b=Object(d.a)(i,2),j=b[0],p=b[1],m=r.filter((function(e){return!e.checked})),f=r.filter((function(e){return!!e.checked})),x="";function O(){return(O=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,D.addTask(h({name:x}));case 3:e.target.value="";case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){D.getTasks(o)}),[]),function(e){var t=e.submit,n=e.changed,c=e.saveTask,r=e.deleteTask,o=e.completed,i=e.open,l=e.showCompleted,u=e.setShowCompleted;return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("form",{className:"form-inline",onSubmit:t,children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("div",{className:"input-group mb-2",children:Object(a.jsx)("input",{onChange:n,className:"form-control",id:"todo-name",placeholder:k,required:!0,autoComplete:"off"})})})}),i.length?Object(a.jsx)("ul",{className:"list-unstyled",children:i.map((function(e,t){return Object(a.jsx)(T,{task:e,saveTask:c,onDelete:r},t)}))}):Object(a.jsx)("p",{className:"left",children:v}),o.length?l?Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("button",{className:"btn-flat",onClick:function(){return u(!1)},children:N}),Object(a.jsx)("ul",{className:"list-unstyled completed",children:o.map((function(e,t){return Object(a.jsx)(T,{task:e,saveTask:c,onDelete:r},t)}))})]}):Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("button",{className:"btn-flat",onClick:function(){return u(!0)},children:y})]}):Object(a.jsx)("p",{className:"left",children:g}),Object(a.jsx)(S,{trigger:{className:"btn-floating btn-large green fixed-action-btn",text:Object(a.jsx)("i",{className:"material-icons",children:"add"})},saveTask:c,task:{}})]})}({open:m,completed:f,deleteTask:function(e){return D.deleteTask(e,r)},submit:function(e){return O.apply(this,arguments)},changed:function(t){e=e||t,x=t.target.value},saveTask:D.updateTask,showCompleted:j,setShowCompleted:p})};var B=function(){return Object(a.jsx)(s.a.Fragment,{children:Object(a.jsx)("div",{className:"container",id:"todo",children:Object(a.jsx)(I,{})})})};o.a.render(Object(a.jsx)(B,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.752db7cd.chunk.js.map